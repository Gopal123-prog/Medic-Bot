image_data = {'Aloevera': [
    [
      'Skincare: Aloe vera gel is a natural moisturizer and soother, alleviating sunburn, minor cuts, and dry skin. Apply the gel directly to the affected area.',
      'Wound healing: Its anti-inflammatory and antibacterial properties promote faster healing of minor wounds and burns. Apply the gel or use aloe vera bandages.',
      'Digestion: Aloe vera juice can aid digestion, relieve constipation, and soothe heartburn. Consume diluted juice in small amounts.',
      'Mouth health: Aloe vera mouthwash can fight gum disease and promote oral hygiene. Use diluted juice or gel-based products.',
      'Hair care: Applying aloe vera gel to the scalp can condition hair, promote growth, and reduce dandruff.'
    ],
    [
      'Skincare products: Lotions, creams, and ointments infused with aloe vera are widely available for wound healing, moisturizing, and soothing inflamed skin.',
      'Ophthalmic solutions: Eye drops containing aloe vera can be used to relieve dry eyes and minor irritation.',
      'Dietary supplements: Aloe vera juice capsules and tablets offer concentrated benefits for digestion and overall health.',
      'Pharmaceutical applications: Research is ongoing for incorporating aloe vera extracts into treatments for cancer, diabetes, and other chronic conditions.'
    ]
  ],
  'Amla': [
    [
      'Digestive health: Amla\'s high fiber content aids digestion and relieves constipation. It also stimulates bile production, supporting liver function.',
      'Immunity booster: Packed with vitamin C and antioxidants, amla bolsters the immune system, fighting off infections and promoting overall well-being.',
      'Skin health: Amla\'s anti-inflammatory and antioxidant properties combat acne, promote wound healing, and give the skin a natural glow.',
      'Hair care: Amla juice strengthens hair follicles, prevents hair loss, and promotes hair growth. It also adds shine and reduces dandruff.',
      'Eye health: Rich in vitamin A, amla juice improves vision and is used to treat conjunctivitis and other eye ailments.',
      'Diabetes management: Amla\'s chromium content helps regulate blood sugar levels, potentially benefiting diabetes management.'
    ],
    [
      'Amla tablets and capsules: Convenient supplements for boosting immunity, improving digestion, and supporting overall health.',
      'Amla juice: Concentrated source of vitamin C and antioxidants, often recommended for various health benefits.',
      'Amla cosmetics: Skin creams, hair oils, and shampoos infused with amla extract for their beneficial properties.',
      'Ayurvedic formulations: Amla features in numerous Ayurvedic medicines for various ailments, like Chyawanprash, a renowned immune booster.'
    ]
  ],
  'Amruthaballi': [
    [
      'Juice: Extracting juice from the fresh leaves of the Amruthaballi plant is a common home remedy for various ailments. It is believed to be effective in boosting the immune system, reducing fever, and alleviating cough and cold symptoms.',
      'Decoction: A decoction prepared by boiling the stem of the Amruthaballi plant in water is another popular home remedy. It is used for treating various digestive issues, including diarrhea and dysentery.',
      'Powder: The dried leaves and stem of the Amruthaballi plant can be powdered and consumed with honey or ghee. This is believed to be beneficial for managing diabetes and blood sugar levels.'
    ],
    [
      'Tinospora cordifolia capsules and tablets: These are commercially available preparations containing concentrated extracts of the Amruthaballi plant. They are used for various purposes, including boosting the immune system, reducing inflammation, and treating fever.',
      'Chyawanprash: This traditional Ayurvedic tonic contains Amruthaballi as one of its key ingredients. It is believed to be a general health booster and rejuvenator.',
      'Giloy ghrita: This medicated ghee is prepared by infusing ghee with the stem of the Amruthaballi plant. It is used for treating various joint and muscle ailments.'
    ]
  ],
  'Arali': [
    [
      'Hair care: Bringaraja is known for promoting hair growth, preventing hair loss, and treating dandruff. It can be applied as juice, oil, or hair mask.',
      'Liver health: It\'s considered a liver tonic and can support liver function, improve digestion, and reduce jaundice. Consume as juice or tea.',
      'Eye health: Bringaraja juice applied to the eyes can help treat conjunctivitis, improve vision, and reduce redness.',
      'Skin health: Its anti-inflammatory properties make it beneficial for treating acne, eczema, and psoriasis. Use diluted juice or paste topically.',
      'Fever and cough: Its antipyretic and expectorant properties can help reduce fever and relieve cough and congestion. Consume as tea or juice.',
      'Diabetes: Studies suggest it may help regulate blood sugar levels and improve insulin sensitivity. Consult a doctor before including it in your diabetes management plan.'
    ],
    [
      'Bhringraj oil: Used for hair care, skin care, and massage therapy.',
      'Bhringraj capsules and tablets: Convenient supplements for overall health, hair care, and liver support.',
      'Bhringraj eye drops: Used to relieve eye irritation and improve vision.'
    ]
  ],
  'Ashoka': [
    [
      'Uterine health: Ashoka Bark decoctions or powders are traditionally used to support menstrual health, regulate menstrual cycles, and ease menstrual cramps. However, scientific evidence is limited, and safety concerns exist for pregnant and breastfeeding women.',
      'Skin health: The bark or leaves are used topically in some cultures for treating skin conditions like acne and eczema. However, there\'s no robust scientific evidence supporting this use, and potential skin irritation can occur.',
      'Digestive issues: Ashoka bark infusions are sometimes used for their astringent properties to treat diarrhea and dysentery. However, this use requires caution due to potential side effects like dehydration and electrolyte imbalance.'
    ],
    [
      'Ayurvedic formulations: The Ashoka tree features in some Ayurvedic medicines aimed at supporting uterine health and menstrual regulation. However, these formulations involve specific preparation methods and should be used only under the guidance of a qualified practitioner.',
      'Limited commercial products: Some isolated extracts or supplements might be available, but their efficacy and safety haven\'t been thoroughly researched.'
    ]
  ],
  'Badipala': [
    [
      'Skin care: Badipala leaves are commonly used in home remedies for wound healing, scar reduction, and treating skin conditions like eczema and psoriasis. The crushed leaves can be applied directly to the affected area or used to make a paste for topical application.',
      'Memory and cognitive function: Badipala is believed to improve memory, focus, and cognitive function. It is traditionally consumed as a juice or decoction made from the leaves.',
      'Anti-inflammatory: The plant exhibits anti-inflammatory properties, making it beneficial for treating conditions like arthritis, rheumatism, and joint pain. It can be consumed orally or applied topically in the form of a paste.',
      'Diuretic: Badipala has diuretic properties, which help in removing excess fluids from the body. This can be beneficial for managing conditions like edema and high blood pressure.',
      'Liver health: The plant is believed to support liver health and detoxification. It is traditionally consumed as a juice or decoction for this purpose.'
    ],
    [
      'Madecassoside: This is a major active component of Badipala and is used in wound healing creams and ointments.',
      'Asiaticoside: Another active component with anti-inflammatory and wound healing properties.',
      'Gotu Kola: This is the standardized extract of the entire Badipala plant and is available in capsules, tablets, and liquid form. It is used for various purposes, including cognitive enhancement, wound healing, and skin health.'
    ]
  ],
  'Balloon_Vine': [
    [
      'Anti-inflammatory: Leaves are used topically in poultices or compresses to reduce inflammation from wounds, sprains, or rheumatism. However, due to potential toxicity, this is not recommended without the guidance of a qualified herbalist.',
      'Diuretic: Leaves or seeds are used in teas or decoctions for their diuretic properties, potentially aiding in fluid removal and urinary tract infections. Again, exercise caution due to potential toxicity.',
      'Laxative: Seeds are used in small amounts as a laxative, but this is not recommended due to potential digestive upset and toxicity.'
    ],
    [
      'Currently, there are no widely accepted or standardized medicines derived from Balloon Vine due to concerns about its toxicity. Some research suggests potential benefits for various conditions like cancer, diabetes, and skin diseases, but these are in early stages and not conclusive.'
    ]
  ],
  'Bamboo': [
    [
      'Digestion: Bamboo shoots are considered cooling and aid digestion, potentially addressing stomach heat and constipation. Consume them cooked or as sprouts.',
      'Fever and cough: Bamboo leaf decoctions may help reduce fever and soothe coughs due to their anti-inflammatory and expectorant properties. Consult a doctor for persistent fever or cough.',
      'Skin conditions: Bamboo leaf baths or applying mashed leaves may offer relief from itching and inflammation caused by eczema or psoriasis. Test for skin sensitivity before applying topically.',
      'Oral health: Bamboo charcoal powder is traditionally used for teeth whitening and oral hygiene. However, its abrasiveness could damage tooth enamel.'
    ],
    [
      'Bamboo shoots: Used in various Asian cuisines, they offer dietary fiber, vitamins, and minerals.',
      'Bamboo leaf extracts: Research suggests potential benefits for blood sugar control, cardiovascular health, and cancer prevention, but further studies are needed.',
      'Bamboo silica: Extracted from bamboo shoots, it\'s used in some dietary supplements for bone and joint health, though scientific evidence is limited.'
    ]
  ],
  'Beans': [
    [
      'Kidney health: Certain bean varieties, like black beans and pinto beans, are known for their potassium content, potentially aiding kidney function. Soaking and cooking beans properly can reduce antinutrients that may affect kidney function.',
      'Diabetes management: Fiber-rich beans can slow down blood sugar absorption, potentially benefiting diabetes management. However, portion control is crucial.',
      'Digestive issues: Cooked beans are good sources of soluble fiber, which aids digestion and promotes gut health. However, uncooked or undercooked beans can cause gas and bloating.',
      'Skin health: Some legumes, like chickpeas, are rich in folate, crucial for skin health. Folate deficiency can lead to skin problems like dermatitis.'
    ],
    [
      'L-Dopa for Parkinson\'s disease: Certain beans, like fava beans, contain L-Dopa, a precursor to dopamine, a neurotransmitter essential for movement control. L-Dopa is a key medication for Parkinson\'s disease.',
      'Choline supplementation: Soybeans are rich in choline, a vital nutrient for brain health and development. Choline-derived supplements are used for specific dietary needs or medical conditions requiring increased choline intake.'
    ]
  ],
  'Betel': [['Potential risks: Betel chewing is linked to several health risks, including oral cancer, leukoplakia (precancerous lesions), and addiction. This is primarily due to the presence of alkaloids like arecoline, which have carcinogenic properties. Betel leaves possess mild stimulant properties, which can interact with certain medications and worsen pre-existing medical conditions.',
            'Limited scientific evidence: While traditional practices utilize betel for various ailments like cough, constipation, and skin conditions, most of these uses lack strong scientific evidence for their effectiveness or safety. Additionally, the diverse cultural preparations and variations in betel quid composition make it difficult to accurately assess its effects and risks.',
            'Alternatives exist: For health concerns addressed by traditional betel uses, several safe and effective options are available through conventional medicine and evidence-based natural remedies. Consulting a healthcare professional or qualified herbalist can guide you towards safer and proven methods for managing various health issues.']],
'Bhrami': [['Memory and Cognitive Function: Brahmi is often used in traditional medicine to enhance memory and cognitive function. It is believed to have neuroprotective properties and may support brain health.',
             'Stress and Anxiety Relief: Brahmi is used in Ayurvedic practices as an adaptogen, which means it may help the body adapt to stress. It is believed to have calming effects and is used to alleviate anxiety and stress.',
             'Hair Care: Some people use Brahmi oil for hair care. It is believed to nourish the scalp, strengthen hair roots, and promote hair growth. Brahmi is often included in hair care products.'],
            ['Bacosides: The active compounds in Brahmi are called bacosides. These compounds are believed to have cognitive-enhancing effects and are often used in memory-enhancing supplements.',
             'Neuroprotective Properties: Research suggests that Brahmi may have neuroprotective properties, which could be beneficial for conditions affecting the nervous system. This has led to investigations into its potential use in neurodegenerative disorders.',
             'Anti-Inflammatory Effects: Brahmi has been studied for its anti-inflammatory effects. Inflammation is associated with various health conditions, and the anti-inflammatory properties of Brahmi may contribute to its medicinal benefits.',
             'Anxiolytic Properties: Some studies suggest that Brahmi may have anxiolytic (anxiety-reducing) properties, making it a potential natural remedy for stress and anxiety.']],
'Bringaraja': [['Hair care: Bringaraja is known for its hair-promoting properties. The juice or oil can be applied to the scalp to stimulate hair growth, prevent hair loss, and treat dandruff.',
                'Liver health: The plant is considered a liver tonic and can be used to support liver function, improve digestion, and reduce jaundice.',
                'Eye health: Bringaraja is believed to be beneficial for eye health. The leaves can be juiced and applied to the eyes to treat conjunctivitis, improve vision, and reduce redness.',
                'Skin health: The plant\'s anti-inflammatory properties make it helpful for treating skin conditions like acne, eczema, and psoriasis.',
                'Fever and cough: Bringaraja has antipyretic and expectorant properties that can help reduce fever and relieve cough and congestion.',
                'Diabetes: Studies suggest that bringaraja may help regulate blood sugar levels and improve insulin sensitivity.'],
               ['Bhringraj oil: This oil is prepared by infusing the leaves in a carrier oil like coconut oil. It\'s used for hair care, skin care, and massage therapy.',
                'Bhringraj capsules and tablets: These supplements allow convenient consumption of the herb and are used for liver health, hair care, and overall well-being.',
                'Bhringraj eye drops: These drops are prepared with the juice of the leaves and can be used to relieve eye irritation and improve vision.']],
'camphor': [['Respiratory Relief: In some cultures, camphor has been traditionally used in steam inhalation to relieve congestion associated with colds and respiratory conditions. A small amount of camphor is added to hot water, and the steam is inhaled.',
             'Muscle and Joint Pain: Camphor is a common ingredient in topical ointments and balms used for relieving muscle and joint pain. It is believed to have a cooling effect and may provide temporary relief from aches and pains.',
             'Insect Repellent: Camphor\'s strong odor makes it a popular choice for repelling insects. It is sometimes used in households to deter mosquitoes and other pests.',
             'Skin Itchiness: Camphor is added to some creams and lotions for its soothing properties. It may be applied topically to relieve itchiness associated with insect bites or minor skin irritations.'],
            ['Topical Analgesics: Camphor is a common ingredient in over-the-counter topical analgesics and muscle rubs. These products are designed to provide relief from minor aches and pains through the skin.',
             'Cough and Cold Products: Camphor is found in some cough and cold products, such as chest rubs and ointments. It is used for its potential decongestant properties when applied topically or inhaled.',
             'Camphor Oil: Camphor oil, derived from the camphor tree, is used in traditional medicine and aromatherapy. It is believed to have various therapeutic effects, including anti-inflammatory and antispasmodic properties.',
             'Antimicrobial Uses: Camphor has antimicrobial properties and has been used in some cultures as a preservative for food items. However, its use in this context is less common today.']],
'Caricature': [['Wound Healing: The leaves of the caricature plant are crushed and applied to wounds to promote healing and reduce inflammation.',
                 'Skin Conditions: The juice of the leaves is used to treat skin conditions like eczema, psoriasis, and acne.',
                 'Fever and Pain: A decoction of the leaves is taken orally to reduce fever and relieve pain.',
                 'Diarrhea: The leaves are boiled and the water is consumed to treat diarrhea.',
                 'Earaches: The juice of the leaves is warmed and dropped into the ear to relieve earaches.'],
                ['Anti-inflammatories: Several compounds found in the caricature plant have been shown to have anti-inflammatory properties. These compounds are being investigated for use in developing new drugs for inflammatory diseases such as arthritis and rheumatism.',
                 'Antimicrobials: The caricature plant also contains compounds with antimicrobial activity, which means they can fight bacteria and fungi. These properties are being studied for potential use in developing new antibiotics.',
                 'Antioxidants: The leaves of the caricature plant are rich in antioxidants, which can help protect cells from damage caused by free radicals. This may help prevent diseases such as cancer and heart disease.']],
'Castor': [['Castor Oil for Skin Conditions: Castor oil, extracted from the castor beans, is commonly used in home remedies for various skin conditions. It is believed to have moisturizing properties and is used for conditions like dry skin, dermatitis, and acne.',
             'Constipation Relief: Castor oil is known for its laxative effects. It has been traditionally used as a home remedy for constipation. However, it should be used with caution and under the guidance of a healthcare professional due to its strong effects.',
             'Joint Pain and Inflammation: Some people use castor oil packs for joint pain and inflammation. These packs involve applying a cloth soaked in castor oil to the affected area.'],
            ['Castor Oil: The oil extracted from castor beans, known as castor oil, is used in various medicinal and industrial applications. It contains ricinoleic acid, which is believed to have anti-inflammatory and analgesic properties.',
             'Ricinoleic Acid: Ricinoleic acid, a major component of castor oil, is being explored for its potential medicinal properties. Research suggests it may have anti-inflammatory and pain-relieving effects.',
             'Lubricants and Pharmaceuticals: Castor oil and its derivatives are used in the production of lubricants and pharmaceuticals. It is used as an ingredient in some over-the-counter medications.',
             'Ricin: While not a medicine, it\'s worth mentioning that ricin, a highly toxic protein, is extracted from castor beans. However, ricin is not used for medicinal purposes due to its extreme toxicity.']],
'Catharanthus':[['Diabetes: Leaf extracts have been used to manage blood sugar levels, though scientific evidence is limited.','Skin conditions: Crushed leaves have been applied topically for wound healing and skin problems like eczema, but toxicity concerns warrant caution.','Diarrhea and stomachache: Leaf decoctions have been used traditionally, but again, the safety and efficacy are questionable.'],
['Vincristine and Vinblastine: These two alkaloids isolated from the plant are vital chemotherapy drugs used to treat various cancers, especially childhood leukemia and Hodgkin\'s lymphoma. Their discovery revolutionized cancer treatment.','Vindoline and Vincristine: Additional alkaloids with potential antidiabetic and anticancer properties are under investigation for future drug development.']],

'Chakte':[['Traditional Medicine:The bark and heartwood of the logwood tree have been used traditionally in some regions for their medicinal properties. It has been employed to treat various ailments, including diarrhea and digestive issues.','Anti-inflammatory Uses:Some traditional uses of logwood involve its anti-inflammatory properties. It has been used to alleviate inflammation and related conditions.','Dye Production:Logwood has been historically used as a natural dye. While not a remedy in the medical sense, the dye derived from logwood has cultural and traditional significance.'],
['Hematoxylin:Hematoxylin is a compound extracted from the heartwood of logwood. While not a medicine on its own, hematoxylin is widely used in histology and pathology laboratories as a staining agent. It is used to stain cell nuclei for microscopic examination.','Tannins:Logwood contains tannins, which are a type of polyphenolic compound. Tannins have astringent properties and may have applications in traditional medicine for their ability to tighten and soothe tissues.']],

'Chilly':[['Pain relief: Capsaicin, the active component in chilies, can act as a natural pain reliever by depleting substance P, a neurotransmitter involved in pain signaling. Some people apply chile-infused oils or pastes topically to sore muscles or joints. However, this can irritate the skin, so caution is advised.','Congestion relief: Capsaicin can thin mucus and stimulate its clearance, potentially helping to relieve congestion and coughing. Some people inhale chili vapors or gargle with diluted chili-infused water, but these methods should be approached with caution due to potential irritation.','Digestive issues: Chilies may stimulate digestive juices and gut motility, potentially aiding digestion in some individuals. However, they can also irritate the stomach lining and exacerbate existing digestive problems like ulcers.'],
['Capsaicin creams and patches: These topical formulations are approved for pain relief in conditions like muscle pain, joint pain, and arthritis. They work by activating pain-relieving pathways in the skin.','Capsaicin nasal sprays: These sprays, used under medical supervision, can help treat sinus congestion and runny nose in specific cases.']],

'Citron lime':[['Digestive issues: Herelikai juice is considered a natural digestive aid, helping with indigestion, constipation, and bloating. Mix a teaspoon of juice with warm water and honey for consumption.','Skin care: The acidic nature of herelikai juice can help combat acne and blemishes. Apply diluted juice topically for a few minutes before washing off.','Fever and cough: Herelikai juice mixed with honey can provide relief from cough and cold symptoms. Its vitamin C content also boosts immunity.','Sore throat: Gargling with diluted herelikai juice can soothe a sore throat and reduce inflammation.','Mouth ulcers: Apply a paste made from herelikai leaves to mouth ulcers for faster healing.'],
['Citric acid: Extracted from herelikai and used in various medicines and food products as an acidity regulator and flavoring agent.','Limonene: A compound found in herelikai peel oil with potential anti-cancer and anti-inflammatory properties. It\'s being researched for its use in cancer treatment and inflammatory bowel disease management.','Nobiletin: Another compound from herelikai peel oil with potential benefits for obesity and metabolic syndrome. Research is ongoing to explore its therapeutic potential.']],

'Marigold':[['Wound healing: Marigold flowers and leaves have been used topically for centuries to promote wound healing, reduce inflammation, and prevent infection. Crushed leaves or a poultice made with the flowers can be applied directly to wounds.','Skin conditions: Marigolds exhibit anti-inflammatory and antimicrobial properties, making them beneficial for treating skin issues like eczema, psoriasis, and acne. A diluted marigold infusion or oil can be applied topically to affected areas.','Digestive issues: Marigold tea prepared from the flowers or leaves is believed to aid digestion, relieve stomach upset, and act as a mild laxative.','Oral health: Marigold leaves are used in some traditional cultures for their antibacterial properties to treat mouth ulcers and gum inflammation.'],
['Lutein and Zeaxanthin: Marigolds are rich in these carotenoids, which have antioxidant properties and may contribute to eye health by protecting the retina from damage. Some eye supplements contain extracts of marigolds.','Anti-inflammatory compounds: Research is ongoing to identify and isolate specific anti-inflammatory compounds from marigolds, potentially leading to the development of new drugs for various inflammatory conditions.']],

'Nelavembu':[['Febrile illnesses: Nelavembu shines in its ability to combat fevers associated with common ailments like dengue, malaria, and chikungunya. Decoctions prepared from the leaves or consumption of Nilavembu Kudineer, a traditional Ayurvedic formulation, are popular remedies.','Respiratory issues: Its anti-inflammatory and expectorant properties make it beneficial for managing coughs, colds, and upper respiratory infections. The leaves can be used to prepare teas or steam inhalations.','Digestive woes: Nelavembu can aid digestion, relieve stomach pain, and act as a mild laxative. Consuming decoctions or infusions made from the leaves is the traditional approach.','Skin health: With its antimicrobial and anti-inflammatory properties, Nelavembu can help manage skin conditions like acne, eczema, and boils. Topical application of leaf paste or diluted decoctions is often used.','Immune booster: Nelavembu is believed to enhance the immune system, potentially reducing susceptibility to infections. Regular consumption of leaf decoctions or Nilavembu Kudineer is a common practice.'],
['Andrographolide: This key active compound extracted from Nelavembu displays potent anti-inflammatory, antiviral, and antibacterial properties. It\'s being researched for its potential application in various clinical conditions like cancer, HIV/AIDS, and autoimmune diseases.','Standardized extracts: Capsules, tablets, and liquid preparations containing standardized extracts of Nelavembu are commercially available. These forms offer concentrated dosages for specific health concerns.']],

'Nerale':[['Diabetes: The leaves have been used traditionally to manage blood sugar levels, though scientific evidence is limited. Consult a healthcare professional before attempting this.','Digestive issues: Bark decoctions or leaf extracts are used in some regions for diarrhea and dysentery, but safety concerns exist. Seek professional advice before utilizing these remedies.','Skin conditions: Leaf paste or crushed leaves are applied topically for wound healing and skin problems like acne and eczema. Again, caution is advised due to potential allergic reactions.','Oral health: Bark decoctions or powdered leaves are sometimes used for rinsing the mouth and treating mouth ulcers, but safety data is lacking. Consult a dentist before trying this.'],
['Anti-diabetic properties: Studies suggest certain compounds in Nerale leaves may help regulate blood sugar, but research is ongoing.','Antimicrobial and antioxidant properties: Extracts from various parts of the plant show potential in inhibiting bacterial and fungal growth, and also exhibit antioxidant activity.','Wound healing: Research suggests some compounds in Nerale may promote wound healing, but further studies are needed.']] ,

'Nooni': [['Pain relief: Noni juice is traditionally used for pain relief, particularly for joint pain and arthritis. However, there\'s limited scientific evidence to support this claim.',
           'Boosting immunity: Noni is believed to strengthen the immune system and fight infections. Again, scientific evidence is limited, and consulting a doctor for immune concerns is crucial.',
           'Lowering blood pressure: Some studies suggest Noni may have a mild blood pressure-lowering effect, but more research is needed. If you have high blood pressure, consulting your doctor for proper management is essential.',
           'Digestive issues: Noni juice is sometimes used for constipation and other digestive problems. However, it can have laxative effects and may not be suitable for everyone.',
           'Skin conditions: Topical application of Noni juice is claimed to be beneficial for certain skin conditions like acne and eczema. However, its effectiveness is unproven and may cause irritation in some people.'],
          ['Noni Juice: The most common form of Noni used medicinally is its juice. However, due to its strong, unpleasant odor and taste, many find it unpalatable.',
           'Supplements: Noni capsules and tablets are also available, offering concentrated forms of the fruit\'s components. Their effectiveness and safety require further research.']],

 'Onion': [['Wound healing: Onion poultices have been used traditionally to promote wound healing and reduce inflammation. The antibacterial properties of onions may help prevent infection.',
            'Coughs and colds: Onions are believed to loosen mucus and relieve congestion, making them a popular home remedy for coughs and colds. Inhaling onion vapors or consuming onion syrup are common practices.',
            'Earaches: Placing a roasted onion slice wrapped in a cloth near the ear is a traditional remedy for earaches. While the effectiveness is unproven, the warmth may provide some comfort.',
            'Fever: Onion juice mixed with honey is a folk remedy for lowering fevers. However, its efficacy isn\'t scientifically validated, and consulting a doctor for fevers is always recommended.',
            'Skin conditions: Onions\' antibacterial and anti-inflammatory properties may be beneficial for managing mild skin conditions like acne and eczema. Topical application of onion juice or pulp is sometimes used, but caution is advised due to potential irritation.'],
           ['Quercetin: This powerful antioxidant found in onions has anti-inflammatory and immune-boosting properties. Research suggests its potential benefits for various conditions like cardiovascular disease, allergies, and even cancer.',
            'Prebiotics: Onions contain inulin, a type of prebiotic fiber that nourishes gut bacteria and promotes digestive health.',
            'Sulfur compounds: The pungent odor of onions comes from sulfur compounds, which exhibit some antimicrobial and anticancer properties. Research on their potential medicinal applications is ongoing.']],

 'Lemon': [['Sore Throat Relief: Mix the juice of half a lemon with warm water and honey, Gargle with this solution to soothe a sore throat.',
             'Digestive Aid: Drink a glass of warm water with lemon juice in the morning to aid digestion.',
             'Cough Suppressant: Mix lemon juice with honey to create a natural cough syrup.',
             'Nausea Relief: Inhale the aroma of fresh lemon or sip on lemon water to alleviate nausea.'],
            ['Vitamin C (Ascorbic Acid): Lemons are well-known for their high vitamin C content. Vitamin C is an essential nutrient that plays a crucial role in the immune system, skin health, and overall well-being. While vitamin C itself is not a medicine, it is an important dietary component for health.',
             'Lemon Essential Oil: Lemon essential oil is derived from the lemon peel and is used in aromatherapy. It is believed to have various health benefits, including antimicrobial properties and mood enhancement. However, it\'s important to note that essential oils should be used with caution and under proper guidance.',
             'Citrus Bioflavonoids: Bioflavonoids are naturally occurring compounds found in citrus fruits, including lemons. They have antioxidant properties and are believed to have potential health benefits, such as supporting cardiovascular health.',
             'Naringin and Hesperidin: These are specific types of flavonoids found in citrus fruits. Naringin is abundant in grapefruits but can also be found in lemons.']],

 'Malabar_Spinach': [['Digestive Aid: Including Malabar Spinach in your diet may help with digestion due to its fiber content. You can include it in salads, soups, or cook it as a side dish.',
                     'Nutrient Boost: Consuming Malabar Spinach regularly can contribute to your overall nutrient intake, providing essential vitamins and minerals.',
                     'Anti-Inflammatory Juice: You can prepare a juice by blending Malabar Spinach leaves with other anti-inflammatory ingredients like ginger and cucumber. This may be beneficial for those looking to reduce inflammation'],
                    ['No medicines found']],

 'Kamakasturi': [['Cough and cold: Boil 1 teaspoon of Kamakasturi seeds with ginger and honey in water. Inhale the steam for cough relief.',
                  'Congestion: Roast a few Kamakasturi seeds, grind them into a powder, and mix with honey. Consume this paste to clear congestion'],
                 ['Basil (Ocimum basilicum)', 'Musk mallow (Abelmoschus moschatus)']],

 'Kambajala': [['home remedies are not found'],
                ['Lotus seed tea: This tea is made from dried lotus seeds and is said to have a calming effect on the mind and body. It is also believed to be good for the kidneys and bladder',
                 'Lotus pollen: Lotus pollen is a powerful antioxidant and anti-inflammatory agent. It can be used to treat a variety of conditions, including allergies, asthma, and arthritis']],

 'Kepala': [['headache', 'Migraine', 'Scalp itchiness', 'Dandruff'],
            ['Ibuprofen (Nurofen)', 'Paracetamol (Panadol)', 'Aspirin', 'Opioids ', 'Ergotamines']],

 'Malabar_Nut': [['Topical paste: Applying a paste made from Malabar nut leaves and honey to acne or boils may have antibacterial and anti-inflammatory effects. Caution: Do a patch test first to avoid irritation',
                  'Powder: Taking small doses of Malabar nut powder mixed with honey might aid digestion and relieve constipation. Caution: Consult a doctor before using, especially if you have any gastrointestinal issues.'],
                 ['Cough syrups and expectorants', 'Bronchodilators', 'Antibiotics']],

 'Lantana': [['Skin conditions: A poultice made from lantana leaves is sometimes used topically for skin conditions like eczema, psoriasis, and scabies. However, this can irritate the skin and should be used with caution.',
              'Wounds: Lantana leaves have been used traditionally to promote wound healing and reduce inflammation. Again, there\'s limited scientific evidence to support this use, and it\'s important to consult with a healthcare professional before applying lantana to open wounds.',
              'Insect bites and stings: Lantana leaves are sometimes used to relieve itching and swelling from insect bites and stings. However, as with other uses, there\'s limited scientific evidence, and it\'s important to test a small amount on an inconspicuous area first to ensure no allergic reaction.'],
             ['Wound healing: Lantana leaves are often used topically as a poultice or decoction to promote wound healing and reduce inflammation.',
              'Skin conditions: Lantana extracts are used in some cultures for treating skin infections, eczema, and psoriasis.',
              'Digestive issues: Lantana leaves and flowers have been used to treat stomach aches, diarrhea, and dysentery.']],

 'Lemongrass': [['Insect repellent: Lemongrass is a natural insect repellent. You can rub crushed lemongrass leaves on your skin or make a lemongrass spray by mixing lemongrass essential oil with water.',
                 'Flavoring agent: Lemongrass has a delicious citrusy flavor that can be used to enhance the taste of soups, curries, marinades, and teas.'],
                ['Essential oil: Diluted lemongrass essential oil massaged into the skin can help with muscle aches, joint pain, and even headaches.',
                 'Soup: Chopped lemongrass stalks added to soups can offer digestive benefits and a zesty citrusy flavor.']],

 'Kohlrabi': [['Kohlrabi steam: Inhaling the steam from boiled kohlrabi leaves might help ease congestion and coughs due to its potential anti-inflammatory properties. However, consult a doctor for persistent respiratory issues.',
               'Kohlrabi water: Some traditional uses suggest boiling kohlrabi leaves in water and drinking the decoction to help alleviate UTI symptoms. However, there\'s no scientific evidence to support this use.'],
              ['Antioxidant and Anti-inflammatory Properties: Kohlrabi contains various antioxidants and anti-inflammatory compounds that may offer general health benefits, but require further study for specific applications.',
               'Cancer Prevention: Studies indicate kohlrabi\'s glucosinolates and isothiocyanates might have anti-cancer properties. However, more research is needed to confirm its effectiveness and dosage.',
               'Diabetes Management: Research suggests kohlrabi extracts may inhibit insulin resistance associated with obesity and diabetes. However, more research is needed to verify its use in managing diabetes.']],
'Kasambruga':[['Seed Infusion: Steep 1-2 teaspoons of Kasamarda seeds in a cup of hot water for 10 minutes. Strain and drink.','Leaf Decoction: Boil a teaspoon of dried Kasamarda leaves in a cup of water for 5-10 minutes. Strain and drink. Repeat once a day if necessary.','Leaf Powder: Mix 1/2 teaspoon of Kasamarda leaf powder with honey or yogurt and consume.'],['Skin conditions: Kasamarda leaves or paste may be used externally for treating skin issues like eczema, ringworm, and acne. However, its effectiveness and safety for such applications require further research.','Liver Tonic: Kasamarda leaves are used in some traditional formulations to support liver health and aid digestion. However, there\'s limited scientific evidence to support these claims.']]}
               






import streamlit as st
import tensorflow as tf 
from PIL import Image
import numpy as np
import os
from tensorflow.keras.preprocessing import image
from tensorflow.keras.applications.inception_v3 import preprocess_input, decode_predictions
from tensorflow.keras.layers import StringLookup
from tensorflow import keras
import matplotlib.pyplot as plt
import google.generativeai as genai

np.random.seed(42)
tf.random.set_seed(42)


base_path = r'C:\Users\gopal\Downloads\final_year_project\IAM_Words'
words_list = []

words = open(f"{base_path}\\words.txt", "r").readlines()
for line in words:
    if line[0] == "#":
        continue
    if line.split(" ")[1] != "err":  
        words_list.append(line)

len(words_list)

np.random.shuffle(words_list)


split_idx = int(0.9 * len(words_list))
train_samples = words_list[:split_idx]
test_samples = words_list[split_idx:]

val_split_idx = int(0.5 * len(test_samples))
validation_samples = test_samples[:val_split_idx]
test_samples = test_samples[val_split_idx:]

assert len(words_list) == len(train_samples) + len(validation_samples) + len(
    test_samples
)

base_image_path = os.path.join(base_path, "words")


def get_image_paths_and_labels(samples):
    paths = []
    corrected_samples = []
    for (i, file_line) in enumerate(samples):
        line_split = file_line.strip()
        line_split = line_split.split(" ")

        
        image_name = line_split[0]
        partI = image_name.split("-")[0]
        partII = image_name.split("-")[1]
        img_path = os.path.join(
            base_image_path, partI, partI + "-" + partII, image_name + ".png"
        )
        if os.path.getsize(img_path):
            paths.append(img_path)
            corrected_samples.append(file_line.split("\n")[0])

    return paths, corrected_samples


train_img_paths, train_labels = get_image_paths_and_labels(train_samples)
validation_img_paths, validation_labels = get_image_paths_and_labels(validation_samples)
test_img_paths, test_labels = get_image_paths_and_labels(test_samples)
train_img_paths = train_img_paths 
train_labels_cleaned = []
characters = set()
max_len = 0

for label in train_labels:
    label = label.split(" ")[-1].strip()
    for char in label:
        characters.add(char)

    max_len = max(max_len, len(label))
    train_labels_cleaned.append(label)

characters = sorted(list(characters))

hand_data = {'Aciclover':['Acyclovir is an antiviral medication commonly used to treat herpes infections, including genital herpes, cold sores, and chickenpox.','For more information check out below link:','https://www.webmd.com/drugs/2/drug-941/acyclovir-oral/details'],'Acrivastine':[' Acrivastine is an antihistamine medication used to relieve symptoms of hay fever or allergies, such as sneezing, itching, watery eyes, or runny nose.',' For more information check out below link:',' https://www.1mg.com/generics/acrivastine-212392'],'Adalimumab': ['Adalimumab is a medication used to treat various autoimmune conditions, including rheumatoid arthritis, psoriatic arthritis, ankylosing spondylitis, Crohn\'s disease, and psoriasis, by inhibiting tumor necrosis factor (TNF) alpha.',' For more information check out below link:','https://versusarthritis.org/about-arthritis/treatments/drugs/adalimumab/'],'Alendronic_acid':['Alendronic acid is a bisphosphonate medication commonly prescribed to treat osteoporosis by inhibiting bone resorption.',' For more information check out below link:',' https://www.nhs.uk/medicines/alendronic-acid/'],'paracetamol':[ "Paracetamol is commonly used to relieve pain and reduce fever.",' For more information check out below link:',' https://www.drugs.com/paracetamol.html'],'Alogliptin':[' Alogliptin is an antidiabetic medication used to treat type 2 diabetes by improving blood sugar control.',' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a613026.html'],'Amoxicillin':[' Amoxicillin is an antibiotic medication commonly prescribed to treat bacterial infections by inhibiting the growth of bacteria.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-1531-3295/amoxicillin-oral/amoxicillin-oral/details'],'Anastrozole':[' Anastrozole is a medication used in the treatment of hormone receptor-positive breast cancer in postmenopausal women by inhibiting estrogen synthesis.','For more information check out below link:',' https://www.webmd.com/drugs/2/drug-1555/anastrozole-oral/details'],'Atenolol':[' Atenolol is a beta-blocker medication used to treat conditions such as high blood pressure and chest pain (angina) by reducing heart rate and blood pressure.', 'For more information check out below link:',' https://www.webmd.com/drugs/2/drug-11035/atenolol-oral/details'],'Atorvastatin':[' Atorvastatin is commonly used to lower cholesterol levels and reduce the risk of cardiovascular events by inhibiting the production of cholesterol in the body.',' For more information check out below link:',' https://www.drugs.com/atorvastatin.html'],'Azithromycin':[' Azithromycin is an antibiotic used to treat various bacterial infections, including respiratory and sexually transmitted infections.',' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a697037.html'],' Bendroflumethiazide':[' Bendroflumethiazide is a diuretic medication commonly prescribed to treat high blood pressure and reduce fluid retention.',' For more information check out below link:',' https://go.drugbank.com/drugs/DB00436'],'Benzoyal_Peroxide':[' Benzoyl Peroxide is a topical medication commonly used for treating acne by reducing the number of acne-causing bacteria and promoting skin exfoliation.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-1344/benzoyl-peroxide-topical/details'],'Betahistine':[' Betahistine is commonly used to treat vertigo and Ménière\'s disease, believed to work by improving blood flow in the inner ear.',' For more information check out below link:',' https://www.1mg.com/generics/betahistine-209444'],'Betamethasone_tablets':[' Betamethasone tablets are corticosteroids used to treat various inflammatory conditions, including skin disorders, arthritis, and allergic reactions.',' For more information check out below link:',' https://www.1mg.com/generics/betamethasone-209445'],'Bimatoprost': ['Bimatoprost is a medication used to treat conditions like glaucoma by reducing intraocular pressure and promoting eyelash growth in cosmetic applications.','For more information check out below link:',' https://www.webmd.com/drugs/2/drug-20665/bimatoprost-ophthalmic-eye/details'],'Bisacodyl':['Bisacodyl is a laxative used to treat constipation or to prepare the bowel for medical procedures.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-12263/bisacodyl-oral/details'],'Bisoprolol':[' Bisoprolol is a beta-blocker medication commonly prescribed to treat conditions such as hypertension (high blood pressure) and heart failure by slowing the heart rate and reducing its workload.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-14206/bisoprolol-fumarate-oral/details'],'Brinzolamide':[' Brinzolamide is a medication used to treat elevated intraocular pressure in patients with open-angle glaucoma or ocular hypertension.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-7634/brinzolamide-ophthalmic-eye/details'],'Calcipotriol':[' Calcipotriol is a synthetic form of vitamin D3 used topically to treat psoriasis by regulating skin cell growth and reducing inflammation.',' For more information check out below link: For more information check out below link:',' https://www.1mg.com/generics/calcipotriol-209488'],'Candesartan':[' Candesartan is an angiotensin II receptor blocker (ARB) used to treat hypertension (high blood pressure) and heart failure.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-8183/candesartan-oral/details'],'Carbamazepine':[' Carbamazepine is an anticonvulsant medication commonly used to treat epilepsy and bipolar disorder.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-1493-5/carbamazepine-oral/carbamazepine-oral/details'],'Carvedilol':[' Carvedilol is a beta-blocker medication used to treat heart failure and high blood pressure by relaxing blood vessels and slowing the heart rate.',' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-5574/carvedilol-oral/details'],' Cefalexin':[' Cefalexin is an antibiotic used to treat bacterial infections by inhibiting bacterial cell wall synthesis.',' For more information check out below link:',' https://www.drugs.com/cephalexin.html'],'Champix':[' Champix (varenicline) is a medication used to help people quit smoking by reducing withdrawal symptoms and blocking the effects of nicotine.', ' For more information check out below link:',' https://pharmeasy.in/online-medicine-order/champix-1mg-tab-maintenance-pack--21851'],'Chlorhexidine':[' Chlorhexidine is an antiseptic medication commonly used for disinfection and cleaning of skin, mucous membranes, and surgical instruments.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-5356/chlorhexidine-gluconate-mouth-and-throat/details'],' Ciprofloxacin':[' Ciprofloxacin is an antibiotic used to treat bacterial infections, including urinary tract infections, respiratory infections, and skin infections.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-7748/ciprofloxacin-oral/details'],'Clarithromycin':[' Clarithromycin is an antibiotic used to treat various bacterial infections, such as respiratory tract infections and skin infections.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-5030-7015/clarithromycin-oral/clarithromycin-oral/details'],'Clobetasone':[' Clobetasone is a corticosteroid medication used topically to treat various skin conditions by reducing inflammation and itching.', ' For more information check out below link:',' https://www.practo.com/medicine-info/clobetasone-2112-api'],'Clonazepam':[' Clonazepam is a medication primarily prescribed for the treatment of seizures and panic disorders by affecting the brain\'s neurotransmitters.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-14403-6006/clonazepam-oral/clonazepam-oral/details'],' Codeine':[' Codeine is an opioid analgesic commonly used for pain relief and cough suppression.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a682065.html'],'Colecalciferol':[' Colecalciferol, also known as vitamin D3, is a supplement used to treat or prevent vitamin D deficiency.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-6152/cholecalciferol-vitamin-d3-oral/details'],'Carbimazole':[' Carbimazole is used to treat hyperthyroidism by inhibiting the production of thyroid hormones.', ' For more information check out below link:',' https://www.nhs.uk/medicines/carbimazole/'],'Carbocisteine':[' Carbocisteine is a mucolytic medication used to treat respiratory conditions by promoting the breakdown of mucus in the airways.', ' For more information check out below link:',' https://www.nhs.uk/medicines/carbocisteine/about-carbocisteine/'],'Diazepam':[' Diazepam is a medication primarily used for the treatment of anxiety, seizures, muscle spasms, and as a pre-anesthetic.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-6306/diazepam-oral/details'],'Diclofenac':[' Diclofenac is a nonsteroidal anti-inflammatory drug (NSAID) commonly used to relieve pain and reduce inflammation in conditions such as arthritis and musculoskeletal disorders.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-4284-4049/diclofenac-oral/diclofenac-sodium-enteric-coated-tablet-oral/details'],'Dipyridamole':[' Dipyridamole is a medication primarily used to prevent blood clots and improve blood flow, often prescribed in combination with other drugs for various cardiovascular conditions.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a682830.html'],'Docusate':[' Docusate is a stool softener used to treat constipation by promoting easier passage of stool.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-323/docusate-sodium-oral/details'],'Domperidone':[' Domperidone is a medication used to treat nausea and vomiting and to relieve symptoms like bloating and discomfort caused by delayed gastric emptying.', ' For more information check out below link:',' https://www.drugs.com/domperidone.html'],' Donepezil':[' Donepezil is a medication used to treat symptoms of Alzheimer\'s disease, improving cognitive function by increasing acetylcholine levels in the brain.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a697032.html'],'Dosulepin':[' Dosulepin is a tricyclic antidepressant used to treat depression and anxiety disorders.', ' For more information check out below link:',' https://www.nhs.uk/medicines/dosulepin/about-dosulepin/'],'Dabigatran':[ "Dabigatran is an anticoagulant medication used to reduce the risk of stroke and blood clots in patients with atrial fibrillation.", ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a610024.html'],'Dapagliflozin':[' Dapagliflozin is an oral medication used to treat type 2 diabetes by improving blood sugar control through the inhibition of renal glucose reabsorption.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a614015.html'],'Edoxaban':[' Edoxaban is an anticoagulant medication used to prevent blood clots and reduce the risk of stroke in conditions such as atrial fibrillation and venous thromboembolism.' ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a614055.html'],'Empagliflozin':[' Empagliflozin is an oral medication used to treat type 2 diabetes by increasing glucose excretion in the urine and reducing the risk of cardiovascular events in certain patients.' ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a614043.html'],'Enalapril':[' Enalapril is an angiotensin-converting enzyme (ACE) inhibitor used to treat hypertension and heart failure.', ' For more information check out below link:',' https://www.drugs.com/enalapril.html'],'Eplerenone':[' Eplerenone is a medication used to treat high blood pressure and heart failure.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a603004.html'],'Erythromycin':[' Erythromycin is an antibiotic used to treat various bacterial infections.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-3959-15/erythromycin-oral/erythromycin-base-erythromycin-stearate-oral/details'],'Escitalopram':[' Escitalopram is a prescription medication used to treat depression and anxiety disorders by increasing serotonin levels in the brain.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a603005.html'],'Esomeprazole':[' Esomeprazole is a proton pump inhibitor (PPI) medication used to treat conditions such as gastroesophageal reflux disease (GERD) and stomach ulcers by reducing stomach acid production.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a699054.html'],'Ezetimibe':[' Ezetimibe is a medication used to lower blood cholesterol levels by inhibiting the absorption of cholesterol in the small intestine.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-64335/ezetimibe-oral/details'],'Felodipine':[' Felodipine is a calcium channel blocker used to treat hypertension (high blood pressure).', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a692016.html'],'Fentanyl':[ "Fentanyl is a potent synthetic opioid used for pain management, often prescribed in the form of patches, lozenges, or injections.", ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a605043.html'],' Ferrous fumarate':[' Ferrous fumarate is commonly used to treat iron deficiency anemia by providing a supplemental source of elemental iron.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-4129/ferrous-fumarate-oral/details'],'Ferrous sulfate':[' Ferrous sulfate is commonly used as an iron supplement to treat or prevent iron-deficiency anemia, a condition characterized by a lack of red blood cells due to insufficient iron levels.', ' For more information check out below link:',' https://www.drugs.com/ferrous_sulfate.html'],'Finasteride':[' Finasteride is commonly prescribed for treating male pattern baldness (androgenetic alopecia) and benign prostatic hyperplasia (BPH) by inhibiting the action of the hormone dihydrotestosterone.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-1548-167/finasteride-oral/finasteride-oral/details'],'Flucloxacillin':[' Flucloxacillin is an antibiotic used to treat bacterial infections, particularly those caused by Staphylococcus aureus.', ' For more information check out below link:',' https://www.nhs.uk/medicines/flucloxacillin/'],'Fluconazole':[' Fluconazole is an antifungal medication used to treat various fungal infections, including yeast infections of the mouth, throat, esophagus, and other organs.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-3780-5052/fluconazole-oral/fluconazole-oral/details'],'Fluoxetine':[' Fluoxetine is commonly used to treat depression, obsessive-compulsive disorder (OCD), bulimia nervosa, and panic disorder by restoring the balance of serotonin in the brain.', ' For more information check out below link:',' https://www.drugs.com/fluoxetine.html'],'Fluticasone':[' Fluticasone is a corticosteroid medication commonly used to treat inflammation and relieve symptoms in conditions such as asthma and allergic rhinitis.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a695002.html'],'Folic acid':[' Folic acid is commonly used as a supplement to prevent or treat folate deficiency and to support the healthy development of cells and tissues in the body.', ' For more information check out below link:',' https://www.webmd.com/vitamins/ai/ingredientmono-1017/folic-acid'],'Furosemide':[' Furosemide is a diuretic medication commonly used to treat conditions such as edema and hypertension by promoting increased urine production.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-5512-8043/furosemide-oral/furosemide-oral/details'],'Fusidic acid':[' Fusidic acid is an antibiotic medication commonly used to treat bacterial skin infections.', ' For more information check out below link:',' https://www.nhs.uk/medicines/fusidic-acid/about-fusidic-acid/'],'Fybogel':['Fybogel is a fiber supplement used to relieve constipation and maintain regular bowel movements.', ' For more information check out below link:',' https://www.nhs.uk/medicines/fybogel-ispaghula-husk/'],'Gabapentin':[' Gabapentin is a medication used to treat nerve pain (neuropathy) and seizures.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a694007.html'],'Gaviscon':[' Gaviscon is an antacid medication that helps relieve heartburn and indigestion by neutralizing stomach acid and forming a protective barrier in the stomach.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-18801-5123/gaviscon-oral/aluminum-magnesium-antacid-oral/details'],' Gliclazide':[' Gliclazide is an oral antidiabetic medication used to control blood sugar levels in people with type 2 diabetes.', ' For more information check out below link:',' https://www.nhs.uk/medicines/gliclazide/about-gliclazide/'],'Glimepiride':[' Glimepiride is an oral antidiabetic medication used to control blood sugar levels in people with type 2 diabetes.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-12271/glimepiride-oral/details'],'Glyceryl':[' Glyceryl trinitrate, commonly known as nitroglycerin, is used to relieve and prevent chest pain (angina) by relaxing and widening blood vessels, improving blood flow to the heart.', ' For more information check out below link:',' https://www.webmd.com/vitamins/ai/ingredientmono-4/glycerol'],'Haloperidol':[' Haloperidol is an antipsychotic medication used to treat various mental and mood disorders, including schizophrenia and acute psychotic episodes.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-8661/haloperidol-oral/details'],'Heparinoid':[' Heparinoid is a medication used for its anticoagulant properties to prevent and treat blood clots.', ' For more information check out below link:',' https://www.nhs.uk/medicines/heparinoid/about-heparinoid/'],'Hydrocortisone':[' Hydrocortisone is a corticosteroid medication used to reduce inflammation and treat conditions such as skin disorders, allergies, and autoimmune diseases.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-10402-859/hydrocortisone-topical/hydrocortisone-topical/details'],'Hydroxocobalamin':[' Hydroxocobalamin is a form of vitamin B12 used to treat vitamin B12 deficiency and cyanide poisoning.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-13578/hydroxocobalamin-intramuscular/details'],'Hydroxychloroquine':[' Hydroxychloroquine is a medication primarily used to treat malaria and certain autoimmune conditions, such as rheumatoid arthritis and lupus.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-5482/hydroxychloroquine-oral/details'],'Indapamide':[' Indapamide is a diuretic medication used to treat high blood pressure and fluid retention by increasing urine production.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a684062.html'],'Insulin':[' Insulin is a hormone medication used to regulate blood sugar levels in individuals with diabetes.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a682611.html'],'Irbesartan':[' Irbesartan is an angiotensin II receptor blocker used to treat high blood pressure and diabetic nephropathy.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-4720/irbesartan-oral/details'],'Isotretinoin gel':[' Isotretinoin gel is a topical medication used to treat acne by reducing oil production and promoting skin cell turnover.', ' For more information check out below link:',' https://patient.info/medicine/isotretinoin-gel-for-acne'],'Ketoconazole':[' Ketoconazole gel is an antifungal medication used topically to treat fungal infections of the skin.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-11593/ketoconazole-oral/details'],'Labetalol':[' Labetalol is a medication used to treat high blood pressure by blocking both alpha and beta receptors, resulting in vasodilation and decreased heart rate.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a685034.html'],'Lactulose':[' Lactulose is a synthetic sugar used as a laxative to treat constipation and to promote the growth of beneficial bacteria in the colon.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-3367-7202/lactulose-oral/lactulose-liver-oral-rectal/details'],'Lamotrigine':[' Lamotrigine is an anticonvulsant medication used to treat epilepsy and bipolar disorder by stabilizing mood and reducing the frequency of seizures.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-4582-7217/lamotrigine-oral/lamotrigine-oral/details'],'Lansoprazole':[' Lansoprazole is a proton pump inhibitor (PPI) that reduces stomach acid production and is used to treat conditions such as gastroesophageal reflux disease (GERD) and ulcers.', ' For more information check out below link:',' https://www.drugs.com/lansoprazole.html'],'Latanoprost':[' Latanoprost is a medication used to treat glaucoma and ocular hypertension by reducing intraocular pressure.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a697003.html'],'Lercanidipine':[' Lercanidipine is a calcium channel blocker used to treat hypertension by relaxing blood vessels, thereby reducing blood pressure.', ' For more information check out below link:',' https://www.1mg.com/generics/lercanidipine-210118'],'Letrozole':[' Letrozole is an aromatase inhibitor used in the treatment of hormone receptor-positive breast cancer by reducing estrogen production.', ' For more information check out below link:',' https://medlineplus.gov/druginfo/meds/a698004.html'],'Levothyroxine':[' Levothyroxine is a synthetic thyroid hormone used to treat hypothyroidism by replacing or supplementing the body\'s natural thyroid hormones.', ' For more information check out below link:',' https://www.drugs.com/levothyroxine.html'],'Lisinopril':[' Lisinopril is an angiotensin-converting enzyme (ACE) inhibitor used to treat high blood pressure and heart failure.', ' For more information check out below link:',' https://www.webmd.com/drugs/2/drug-6873-9371/lisinopril-oral/lisinopril-oral/details'],'Lithium':[' Lithium is a mood-stabilizing medication commonly used to treat bipolar disorder.', ' For more information check out below link:',' https://www.drugs.com/lithium.html'],'Simvastatin':['Simvastatin is a medication used to lower cholesterol levels by inhibiting the production of cholesterol in the liver.','For more information check out below link:','https://www.webmd.com/drugs/2/drug-6105/simvastatin-oral/details']}
hand_data_lst = ['Aciclover', 'Acrivastine', 'Adalimumab', 'Alendronic_acid', 'paracetamol', 'Alogliptin', 'Amoxicillin', 'Anastrozole', 'Atenolol', 'Atorvastatin', 'Azithromycin', 'Bendroflumethiazide', 'Benzoyal_Peroxide', 'Betahistine', 'Betamethasone_tablets', 'Bimatoprost', 'Bisacodyl', 'Bisoprolol', 'Brinzolamide', 'Calcipotriol', 'Candesartan', 'Carbamazepine', 'Carvedilol', 'Cefalexin', 'Champix', 'Chlorhexidine', 'Ciprofloxacin', 'Clarithromycin', 'Clobetasone', 'Clonazepam', 'Codeine', 'Colecalciferol', 'Carbimazole', 'Carbocisteine', 'Diazepam', 'Diclofenac', 'Dipyridamole', 'Docusate', 'Domperidone', 'Donepezil', 'Dosulepin', 'Dabigatran', 'Dapagliflozin', 'Edoxaban', 'Empagliflozin', 'Enalapril', 'Eplerenone', 'Erythromycin', 'Escitalopram', 'Esomeprazole', 'Ezetimibe', 'Felodipine', 'Fentanyl', 'Ferrous fumarate', 'Ferrous sulfate', 'Finasteride', 'Flucloxacillin', 'Fluconazole', 'Fluoxetine', 'Fluticasone', 'Folic acid', 'Furosemide', 'Fusidic acid', 'Fybogel', 'Gabapentin', 'Gaviscon', 'Gliclazide', 'Glimepiride', 'Glyceryl', 'Haloperidol', 'Heparinoid', 'Hydrocortisone', 'Hydroxocobalamin', 'Hydroxychloroquine', 'Indapamide', 'Insulin', 'Irbesartan', 'Isotretinoin gel', 'Ketoconazole', 'Labetalol', 'Lactulose', 'Lamotrigine', 'Lansoprazole', 'Latanoprost', 'Lercanidipine', 'Letrozole', 'Levothyroxine', 'Lisinopril', 'Lithium','Simvastatin']

train_labels_cleaned = train_labels_cleaned 

def clean_labels(labels):
    cleaned_labels = []
    for label in labels:
        label = label.split(" ")[-1].strip()
        cleaned_labels.append(label)
    return cleaned_labels


validation_labels_cleaned = clean_labels(validation_labels)
test_labels_cleaned = clean_labels(test_labels)

AUTOTUNE = tf.data.AUTOTUNE

char_to_num = StringLookup(vocabulary=list(characters), mask_token=None)

num_to_char = StringLookup(
    vocabulary=char_to_num.get_vocabulary(), mask_token=None, invert=True
)

def distortion_free_resize(image, img_size):
    w, h = img_size
    image = tf.image.resize(image, size=(h, w), preserve_aspect_ratio=True)

    pad_height = h - tf.shape(image)[0]
    pad_width = w - tf.shape(image)[1]

    if pad_height % 2 != 0:
        height = pad_height // 2
        pad_height_top = height + 1
        pad_height_bottom = height
    else:
        pad_height_top = pad_height_bottom = pad_height // 2

    if pad_width % 2 != 0:
        width = pad_width // 2
        pad_width_left = width + 1
        pad_width_right = width
    else:
        pad_width_left = pad_width_right = pad_width // 2

    image = tf.pad(
        image,
        paddings=[
            [pad_height_top, pad_height_bottom],
            [pad_width_left, pad_width_right],
            [0, 0],
        ],
    )

    image = tf.transpose(image, perm=[1, 0, 2])
    image = tf.image.flip_left_right(image)
    return image

batch_size = 64
padding_token = 99
image_width = 300
image_height = 100


def preprocess_image(image_path, img_size=(image_width, image_height)):
    image = tf.io.read_file(image_path)
    image = tf.image.decode_png(image, 1)
    image = distortion_free_resize(image, img_size)
    image = tf.cast(image, tf.float32) / 255.0
    return image


def vectorize_label(label):
    label = char_to_num(tf.strings.unicode_split(label, input_encoding="UTF-8"))
    length = tf.shape(label)[0]
    pad_amount = max_len - length
    label = tf.pad(label, paddings=[[0, pad_amount]], constant_values=padding_token)
    return label


def process_images_labels(image_path, label):
    image = preprocess_image(image_path)
    label = vectorize_label(label)
    return {"image": image, "label": label}


def prepare_dataset(image_paths, labels):
    dataset = tf.data.Dataset.from_tensor_slices((image_paths, labels)).map(
        process_images_labels, num_parallel_calls=AUTOTUNE
    )
    return dataset.batch(batch_size).cache().prefetch(AUTOTUNE)

train_ds = prepare_dataset(train_img_paths, train_labels_cleaned)
validation_ds = prepare_dataset(validation_img_paths, validation_labels_cleaned)
test_ds = prepare_dataset(test_img_paths, test_labels_cleaned)


class CTCLayer(keras.layers.Layer):
    def __init__(self, name=None):
        super().__init__(name=name)
        self.loss_fn = keras.backend.ctc_batch_cost

    def call(self, y_true, y_pred):
        batch_len = tf.cast(tf.shape(y_true)[0], dtype="int64")
        input_length = tf.cast(tf.shape(y_pred)[1], dtype="int64")
        label_length = tf.cast(tf.shape(y_true)[1], dtype="int64")

        input_length = input_length * tf.ones(shape=(batch_len, 1), dtype="int64")
        label_length = label_length * tf.ones(shape=(batch_len, 1), dtype="int64")
        loss = self.loss_fn(y_true, y_pred, input_length, label_length)
        self.add_loss(loss)

        
        return y_pred


def build_model():
    
    input_img = keras.Input(shape=(image_width, image_height, 1), name="image")
    labels = keras.layers.Input(name="label", shape=(None,))

    
    x = keras.layers.Conv2D(
        32,
        (3, 3),
        activation="relu",
        kernel_initializer="he_normal",
        padding="same",
        name="Conv1",
    )(input_img)
    x = keras.layers.MaxPooling2D((2, 2), name="pool1")(x)

  
    x = keras.layers.Conv2D(
        64,
        (3, 3),
        activation="relu",
        kernel_initializer="he_normal",
        padding="same",
        name="Conv2",
    )(x)
    x = keras.layers.MaxPooling2D((2, 2), name="pool2")(x)

    new_shape = ((image_width // 4), (image_height // 4) * 64)
    x = keras.layers.Reshape(target_shape=new_shape, name="reshape")(x)
    x = keras.layers.Dense(64, activation="relu", name="dense1")(x)
    x = keras.layers.Dropout(0.2)(x)


    x = keras.layers.Bidirectional(
        keras.layers.LSTM(128, return_sequences=True, dropout=0.25)
    )(x)
    x = keras.layers.Bidirectional(
        keras.layers.LSTM(64, return_sequences=True, dropout=0.25)
    )(x)

    x = keras.layers.Dense(
        len(char_to_num.get_vocabulary()) + 2, activation="softmax", name="dense2"
    )(x)

    output = CTCLayer(name="ctc_loss")(labels, x)

 
    model = keras.models.Model(
        inputs=[input_img, labels], outputs=output, name="handwriting_recognizer"
    )
 
    opt = keras.optimizers.Adam()
  
    model.compile(optimizer=opt)
    return model


model = build_model()

prediction_model = keras.models.Model(
    model.get_layer(name="image").input, model.get_layer(name="dense2").output
)

model.load_weights(r'C:\Users\gopal\Downloads\final_year_project\models\hand_written.keras')
def predict_text_in_image(model, image_path):
    preprocessed_image = preprocess_image(image_path)
    preprocessed_image = tf.expand_dims(preprocessed_image, axis=0)  

    predictions = model.predict(preprocessed_image)
    results = keras.backend.ctc_decode(
        predictions, input_length=np.ones(predictions.shape[0]) * predictions.shape[1], greedy=True
    )[0][0][:, :max_len]

  
    output_text = []
    for res in results:
        res = tf.gather(res, tf.where(tf.math.not_equal(res, -1)))
        res = tf.strings.reduce_join(num_to_char(res)).numpy().decode("utf-8")
        output_text.append(res)
    return output_text


def image_function(image):
    predictions = image_prediction_model.predict(img_array)
    top = 1
    custom_labels = {0: 'Aloevera', 1: 'Amla', 2: 'Amruthaballi', 3: 'Arali', 4: 'Ashwagandha', 5: 'Astma_weed', 6: 'Avacado', 7: 'Badipala', 8: 'Balloon_Vine', 9: 'Bamboo', 10: 'Basale', 11: 'Beans', 12: 'Betel', 13: 'Betel_Nut', 14: 'Bhrami', 15: 'Bringaraja', 16: 'Caricature', 17: 'Castor', 18: 'Catharanthus', 19: 'Chakte', 20: 'Chilly', 21: 'Citron lime (herelikai)', 22: 'Coffee', 23: 'Common rue(naagdalli)', 24: 'Coriender', 25: 'Curry', 26: 'Doddpathre', 27: 'Drumstick', 28: 'Ekka', 29: 'Eucalyptus', 30: 'Ganigale', 31: 'Ganike', 32: 'Gasagase', 33: 'Geranium', 34: 'Ginger', 35: 'Globe Amarnath', 36: 'Guava', 37: 'Henna', 38: 'Hibiscus', 39: 'Honge', 40: 'Insulin', 41: 'Jackfruit', 42: 'Jasmine', 43: 'Kambajala', 44: 'Kasambruga', 45: 'Kohlrabi', 46: 'Lantana', 47: 'Lemon', 48: 'Lemongrass', 49: 'Malabar_Nut', 50: 'Malabar_Spinach', 51: 'Mango', 52: 'Marigold', 53: 'Mint', 54: 'Nagadali', 55: 'Neem', 56: 'Nelavembu', 57: 'Nerale', 58: 'Nithyapushpa', 59: 'Nooni', 60: 'Onion', 61: 'Padri', 62: 'Palak(Spinach)', 63: 'Papaya', 64: 'Parijatha', 65: 'Pea', 66: 'Pepper', 67: 'Pomoegranate', 68: 'Pumpkin', 69: 'Raddish', 70: 'Raktachandini', 71: 'Rose', 72: 'Sampige', 73: 'Sapota', 74: 'Seethaashoka', 75: 'Seethapala', 76: 'Spinach1', 77: 'Tamarind', 78: 'Taro', 79: 'Tecoma', 80: 'Thumbe', 81: 'Tomato', 82: 'Tulasi', 83: 'Turmeric', 84: 'Wood_sorel', 85: 'ashoka', 86: 'camphor', 87: 'kamakasturi', 88: 'kepala'}

    top_indices = np.argsort(predictions)[0, ::-1][:top]

    decoded_predictions = []
    for i in top_indices:
        label = custom_labels.get(i, f'Class_{i}')
        score = predictions[0, i]
        decoded_predictions.append((i, label, score))

    for i, (index, label, score) in enumerate(decoded_predictions):
        if (score*100<50):
            st.write("Image data not found")
        else:
            st.write(f"{label} ({score:.2f})")
            for line in image_data[label]:
                st.write(*line)

image_prediction_model = tf.keras.models.load_model(r'C:\Users\gopal\Downloads\final_year_project\models\image_classification.keras')
st.title("MEDIC BOT")
st.subheader("Leaf idenfification")
leaf_image = st.file_uploader("leaf image with jpg, png, jpeg extensions",accept_multiple_files=False)

if st.button('predict plant'):
    if leaf_image is not None:
        img = image.load_img(leaf_image, target_size=(299, 299))
        img_array = image.img_to_array(img)
        img_array = np.expand_dims(img_array, axis=0)
        img_array = preprocess_input(img_array)
        image_function(img_array)
    else:
        st.warning("upoad any plant image")

uploaded_file = st.file_uploader("Choose a leaf image to upload", type=["jpg", "jpeg", "png"])
image_name = st.text_input("Enter a name for the image (without extension):")

if st.button("Upload Image"):
    if uploaded_file is not None:
        if os.path.exists(os.path.join("uploaded_images", f"{image_name}")):
            dir_count = [x for x in os.scandir(f"uploaded_images/{image_name}") if x.is_file()]
            file_path = f"uploaded_images/{image_name}/{len(dir_count) + 1}.{uploaded_file.name.split('.')[-1]}"
        else:
            file_path = f"uploaded_images/{image_name}/{1}.{uploaded_file.name.split('.')[-1]}"
            os.makedirs(os.path.dirname(file_path), exist_ok=True)

        with open(file_path, "wb") as f:
            f.write(uploaded_file.getbuffer())

        st.success(f"Image uploaded successfully as {image_name}.{uploaded_file.name.split('.')[-1]}!")


st.markdown("<br>", unsafe_allow_html=True)
st.markdown("<br>", unsafe_allow_html=True)

st.subheader("Mediscript reader")
hand_image = st.file_uploader("upload a hand written image with jpg, png, jpeg extensions",accept_multiple_files=False)
if st.button('predict text'):
    print(hand_image)
    if hand_image is not None:
        try:
            hand_image = r'C:\Users\gopal\Downloads\hand_test_data\\'+hand_image.name
            result = predict_text_in_image(prediction_model,hand_image)
            predicted_text = result[0]
            st.write(predicted_text)
            lst = []
            max_match = 0
            split_pre_text = []
            for i in range(len(predicted_text)-1):
                for j in range(i+1,len(predicted_text)):
                    split_pre_text.append(predicted_text[i:j])
            for k in hand_data_lst:
                max_count = 0 
                for i in split_pre_text:
                   if i in k:
                       max_count += 1
                if (max_match<(max_count/len(split_pre_text)*100) and (max_count/len(split_pre_text)*100)>30):
                    max_match = max_count/len(split_pre_text*100)
                    lst.clear()
                    if (abs(len(k)-len(predicted_text)<=2)):
                        lst.append(k)
            if (len(lst)==0):
                st.write("No data found")
            elif (len(lst)>1):
                for ele in lst:
                    st.write(hand_data[ele])
            else:
               st.write(*hand_data[lst[0]])
        except:
            st.write("choose the correct path")
    else:
        st.warning("upoad the hand written text image")
uploaded_file = st.file_uploader("Upload the handwritten image ", type=["jpg", "jpeg", "png"])
image_name = st.text_input("Enter the content or text in the image: ")
target_directory = "upload_image"
if uploaded_file is not None and image_name:
        if st.button("Save Image"):
           
            image_directory = os.path.join(target_directory)
            os.makedirs(image_directory, exist_ok=True)

            image_path = os.path.join(image_directory, f"{image_name}.jpg")
            with open(image_path, "wb") as f:
                f.write(uploaded_file.getvalue())

            st.success(f"Image '{image_name}' saved successfully at: {image_path}")

    




genai.configure(api_key="AIzaSyDNkZfYUpFs5oSv6w2_tYLb-ERLB4A3hjM")
model=genai.GenerativeModel('gemini-pro')

if "chat" not in st.session_state:
    st.session_state.chat=model.start_chat(history=[])


st.title("chatbot!")

def role_to_streamlit(role):
    if role=='model':
        return "assistant"
    else:
        return role

for message in st.session_state.chat.history:
    with st.chat_message(role_to_streamlit(message.role)):
        st.markdown(message.parts[0].text)
        
if prompt:=st.chat_input("ask me anything about healthcare"):
    st.chat_message("user").markdown(prompt)
    response=st.session_state.chat.send_message(prompt)
    with st.chat_message("assistant"):
        st.markdown(response.text) 